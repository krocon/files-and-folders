{"version":3,"file":"main.js","mappings":"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","sources":["webpack://fnf/./apps/api/src/app/app.controller.ts","webpack://fnf/./apps/api/src/app/app.module.ts","webpack://fnf/./apps/api/src/app/app.service.ts","webpack://fnf/./apps/api/src/app/config/config.controller.ts","webpack://fnf/./apps/api/src/app/config/config.module.ts","webpack://fnf/./apps/api/src/app/config/config.service.ts","webpack://fnf/./apps/api/src/app/customcss/custom-css.gateway.ts","webpack://fnf/./apps/api/src/app/customcss/custom-css.module.ts","webpack://fnf/./apps/api/src/app/dir/dir-service.ts","webpack://fnf/./apps/api/src/app/dir/dir.controller.ts","webpack://fnf/./apps/api/src/app/dir/dir.gateway.ts","webpack://fnf/./apps/api/src/app/dir/dir.module.ts","webpack://fnf/./apps/api/src/app/dir/stats-to-file.ts","webpack://fnf/./apps/api/src/app/dir/watch-event.data.ts","webpack://fnf/./apps/api/src/app/drives/drives.controller.ts","webpack://fnf/./apps/api/src/app/drives/drives.module.ts","webpack://fnf/./apps/api/src/app/drives/drives.service.ts","webpack://fnf/./apps/api/src/app/file-action/action/common/clone.ts","webpack://fnf/./apps/api/src/app/file-action/action/common/dummy.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/common/slash-2-backslash.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/copy.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/mkdir.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/move.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/open.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/remove.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/rename.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/unpack-list.fn.ts","webpack://fnf/./apps/api/src/app/file-action/action/unpack.fn.ts","webpack://fnf/./apps/api/src/app/file-action/file-action.constroller.ts","webpack://fnf/./apps/api/src/app/file-action/file-action.gateway.ts","webpack://fnf/./apps/api/src/app/file-action/file-action.module.ts","webpack://fnf/./apps/api/src/app/file-action/file.service.ts","webpack://fnf/./apps/api/src/app/file-content/file.constroller.ts","webpack://fnf/./apps/api/src/app/file-content/file.module.ts","webpack://fnf/./apps/api/src/app/file-content/plain-body.ts","webpack://fnf/./apps/api/src/app/find/find.gateway.ts","webpack://fnf/./apps/api/src/app/find/find.module.ts","webpack://fnf/./apps/api/src/app/http-exception.filter.ts","webpack://fnf/./apps/api/src/app/sysinfo/sysinfo.controller.ts","webpack://fnf/./apps/api/src/app/sysinfo/sysinfo.module.ts","webpack://fnf/./apps/api/src/app/sysinfo/sysinfo.service.ts","webpack://fnf/./apps/api/src/app/walk/walk.gateway.ts","webpack://fnf/./apps/api/src/app/walk/walk.module.ts","webpack://fnf/./apps/api/src/environments/environment.ts","webpack://fnf/./libs/fnf-data/src/index.ts","webpack://fnf/./libs/fnf-data/src/lib/cmd/button-enable-states.ts","webpack://fnf/./libs/fnf-data/src/lib/cmd/get-button-enable-states.fn.ts","webpack://fnf/./libs/fnf-data/src/lib/customcss/css-colors.data.ts","webpack://fnf/./libs/fnf-data/src/lib/demo/api-interfaces.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/dir-event.if.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/dir-event.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/dir-para.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/dir-watcher-event.type.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/file-item.if.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/file-item.ts","webpack://fnf/./libs/fnf-data/src/lib/dir/vols-dir.ts","webpack://fnf/./libs/fnf-data/src/lib/emitable.ts","webpack://fnf/./libs/fnf-data/src/lib/file/action-gateway-cmd.ts","webpack://fnf/./libs/fnf-data/src/lib/file/do-event-2-dir-event.ts","webpack://fnf/./libs/fnf-data/src/lib/file/do-event.if.ts","webpack://fnf/./libs/fnf-data/src/lib/file/do-event.ts","webpack://fnf/./libs/fnf-data/src/lib/file/file-cmd.ts","webpack://fnf/./libs/fnf-data/src/lib/file/file-para.ts","webpack://fnf/./libs/fnf-data/src/lib/file/fix-path.fn.ts","webpack://fnf/./libs/fnf-data/src/lib/file/fix-slash.fn.ts","webpack://fnf/./libs/fnf-data/src/lib/file/get-parent.ts","webpack://fnf/./libs/fnf-data/src/lib/file/is-root.ts","webpack://fnf/./libs/fnf-data/src/lib/file/is-same-dir.ts","webpack://fnf/./libs/fnf-data/src/lib/file/zip-matcher.ts","webpack://fnf/./libs/fnf-data/src/lib/find/find-dialog.data.ts","webpack://fnf/./libs/fnf-data/src/lib/find/find.data.ts","webpack://fnf/./libs/fnf-data/src/lib/find/search-symbol.ts","webpack://fnf/./libs/fnf-data/src/lib/sysinfo/sysinfo.if.ts","webpack://fnf/./libs/fnf-data/src/lib/sysinfo/sysinfo.ts","webpack://fnf/./libs/fnf-data/src/lib/system-meta-data.ts","webpack://fnf/./libs/fnf-data/src/lib/walk/walk-para.data.ts","webpack://fnf/./libs/fnf-data/src/lib/walk/walk.data.if.ts","webpack://fnf/./libs/fnf-data/src/lib/walk/walk.data.ts","webpack://fnf/external commonjs \"@nestjs/common\"","webpack://fnf/external commonjs \"@nestjs/core\"","webpack://fnf/external commonjs \"@nestjs/serve-static\"","webpack://fnf/external commonjs \"@nestjs/websockets\"","webpack://fnf/external commonjs \"chokidar\"","webpack://fnf/external commonjs \"fs-extra\"","webpack://fnf/external commonjs \"micromatch\"","webpack://fnf/external commonjs \"node-stream-zip\"","webpack://fnf/external commonjs \"raw-body\"","webpack://fnf/external commonjs \"rxjs\"","webpack://fnf/external commonjs \"rxjs/operators\"","webpack://fnf/external commonjs \"socket.io\"","webpack://fnf/external commonjs \"tslib\"","webpack://fnf/external node-commonjs \"child_process\"","webpack://fnf/external node-commonjs \"fs\"","webpack://fnf/external node-commonjs \"os\"","webpack://fnf/external node-commonjs \"path\"","webpack://fnf/external node-commonjs \"process\"","webpack://fnf/webpack/bootstrap","webpack://fnf/./apps/api/src/main.ts"],"sourcesContent":["import { Controller, Get } from \"@nestjs/common\";\r\nimport { AppService } from \"./app.service\";\r\n\r\n@Controller()\r\nexport class AppController {\r\n  @Get(\"/\")\r\n  getApiInfos(): string[] {\r\n    return AppService.availableRoutes;\r\n  }\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { ServeStaticModule } from \"@nestjs/serve-static\";\r\n\r\nimport { join } from \"path\";\r\n\r\nimport { AppController } from \"./app.controller\";\r\nimport { AppService } from \"./app.service\";\r\nimport { SysinfoModule } from \"./sysinfo/sysinfo.module\";\r\nimport { DrivesModule } from \"./drives/drives.module\";\r\nimport { FileModule } from \"./file-content/file.module\";\r\nimport { FileActionModule } from \"./file-action/file-action.module\";\r\nimport { WalkModule } from \"./walk/walk.module\";\r\nimport { DirModule } from \"./dir/dir.module\";\r\nimport { CustomCssModule } from \"./customcss/custom-css.module\";\r\nimport { ConfigModule } from \"./config/config.module\";\r\nimport { FindModule } from \"./find/find.module\";\r\n\r\n@Module({\r\n  imports: [\r\n    SysinfoModule,\r\n    DrivesModule.forRoot(\r\n      process.env.FNF_INCOMPATIBLE_PATHS ? process.env.FNF_INCOMPATIBLE_PATHS.split(\",\") : undefined\r\n    ),\r\n    ConfigModule.forRoot(\r\n      process.env\r\n    ),\r\n    FileModule,\r\n    FileActionModule,\r\n    WalkModule,\r\n    FindModule,\r\n    DirModule,\r\n    CustomCssModule,\r\n    ServeStaticModule.forRoot({\r\n      rootPath: join(__dirname, \"..\", \"files-and-folders\")\r\n    })\r\n  ],\r\n  controllers: [\r\n    AppController\r\n  ],\r\n  providers: [\r\n    AppService\r\n  ]\r\n})\r\nexport class AppModule {\r\n}\r\n","import { Injectable } from \"@nestjs/common\";\r\n\r\n@Injectable()\r\nexport class AppService {\r\n  static availableRoutes: string[];\r\n}\r\n","import { Controller, Get } from \"@nestjs/common\";\r\nimport { ConfigService } from \"./config.service\";\r\n\r\n@Controller()\r\nexport class ConfigController {\r\n  constructor(private readonly configService: ConfigService) {\r\n  }\r\n\r\n  @Get(\"config\")\r\n  getConfig(): { [key: string]: string } {\r\n    return this.configService.getData();\r\n  }\r\n}\r\n","import { DynamicModule, Logger, Module } from \"@nestjs/common\";\r\nimport { ConfigService } from \"./config.service\";\r\nimport { ConfigController } from \"./config.controller\";\r\n\r\n\r\n@Module({\r\n  controllers: [ConfigController]\r\n})\r\nexport class ConfigModule {\r\n\r\n  public static forRoot(config: { [key: string]: string } | undefined): DynamicModule {\r\n    if (config) {\r\n      ConfigService.config = config;\r\n      Logger.log(\"ConfigModule config -> \" + JSON.stringify(config, null, 2));\r\n    }\r\n    return {\r\n      module: ConfigModule,\r\n      providers: [\r\n        ConfigService\r\n      ]\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable } from \"@nestjs/common\";\r\n\r\nexport type DrivesCallbackFn = (eror: number, sysinfo: string[]) => void;\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n\r\n  static config: { [key: string]: string };\r\n\r\n  getData(): { [key: string]: string } {\r\n    return ConfigService.config;\r\n  }\r\n\r\n  hasRestrictedContainerPaths(): boolean {\r\n    return !!ConfigService.config.FNF_CONTAINER_PATHES;\r\n  }\r\n\r\n\r\n}\r\n","import { MessageBody, SubscribeMessage, WebSocketGateway, WebSocketServer } from \"@nestjs/websockets\";\r\nimport { Server } from \"socket.io\";\r\nimport { environment } from \"../../environments/environment\";\r\nimport { CssColors } from \"@fnf/fnf-data\";\r\n\r\n@WebSocketGateway(environment.websocketPort, environment.websocketOptions)\r\nexport class CustomCssGateway {\r\n\r\n  @WebSocketServer() server: Server;\r\n\r\n  @SubscribeMessage(\"updateCss\")\r\n  updateCss(@MessageBody() cssvars: CssColors): void {\r\n    this.server.emit(\"onCssUpdate\", cssvars);\r\n  }\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { CustomCssGateway } from \"./custom-css.gateway\";\r\n\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [],\r\n  providers: [\r\n    CustomCssGateway\r\n  ],\r\n  exports: [\r\n    CustomCssGateway\r\n  ]\r\n})\r\nexport class CustomCssModule {\r\n}\r\n","import { Injectable } from \"@nestjs/common\";\r\nimport { DirEvent, DirEventIf, DirPara, FileItem, fixPath, getZipUrlInfo, isZipUrl } from \"@fnf/fnf-data\";\r\n\r\nimport * as fs from \"fs-extra\";\r\nimport * as path from \"path\";\r\nimport { stats2FileItem } from \"./stats-to-file\";\r\nimport { unpacklist } from \"../file-action/action/unpack-list.fn\";\r\n\r\n@Injectable()\r\nexport class DirService {\r\n\r\n\r\n  readdir(para: DirPara): Promise<DirEvent[]> {\r\n    const p = para.path;\r\n\r\n    if (isZipUrl(p)) {\r\n      const zipUrlInfo = getZipUrlInfo(p);\r\n\r\n      return new Promise<DirEventIf[]>((resolve, reject) => {\r\n        unpacklist(zipUrlInfo.zipUrl)\r\n          .then(dirEvent => {\r\n            return resolve([dirEvent]);\r\n          }, error => reject(error));\r\n      });\r\n\r\n    } else {\r\n      return new Promise<DirEventIf[]>((resolve, reject) => {\r\n\r\n        const fileItems: FileItem[] = [];\r\n        try {\r\n          const files = fs.readdirSync(p);\r\n          for (let idx = 0; idx < files.length; idx++) {\r\n            const f = files[idx];\r\n            const ff = path.join(p, \"/\", f);\r\n            const fileItem = new FileItem(\r\n              p,\r\n              fixPath(f),\r\n              path.extname(f),\r\n              null\r\n            );\r\n            fileItems.push(fileItem);\r\n            try {\r\n              const stats = fs.statSync(ff);\r\n              stats2FileItem(stats, fileItem);\r\n\r\n            } catch (e) {\r\n              fileItem.error = e;\r\n              console.info(\"DirGateWay() stats error:\", e.message);\r\n            }\r\n          } // for\r\n          resolve([new DirEvent(p, fileItems, true, true, fileItems.length, \"\", \"list\")]);\r\n\r\n        } catch (e) {\r\n          console.error(e);\r\n          reject(e);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Controller, Post } from \"@nestjs/common\";\r\nimport { MessageBody } from \"@nestjs/websockets\";\r\nimport { DirEvent, DirPara } from \"@fnf/fnf-data\";\r\nimport { DirService } from \"./dir-service\";\r\n\r\n\r\n@Controller()\r\nexport class DirController {\r\n\r\n  constructor(private readonly dirService: DirService) {\r\n  }\r\n\r\n  @Post(\"readdir\")\r\n  readdir(@MessageBody() para: DirPara): Promise<DirEvent[]> {\r\n    return this.dirService.readdir(para);\r\n  }\r\n\r\n}\r\n","import { MessageBody, SubscribeMessage, WebSocketGateway, WebSocketServer } from \"@nestjs/websockets\";\r\nimport { Server } from \"socket.io\";\r\n\r\nimport * as path from \"path\";\r\nimport * as fs from \"fs-extra\";\r\nimport { DirEvent, DirPara, FileItem, fixPath, getZipUrlInfo, isZipUrl } from '@fnf/fnf-data';\r\nimport { environment } from \"../../environments/environment\";\r\nimport { FSWatcher } from \"chokidar\";\r\nimport { Observable } from \"rxjs\";\r\nimport { WatchEventData } from \"./watch-event.data\";\r\nimport { distinctUntilChanged } from \"rxjs/operators\";\r\nimport { unpacklist } from \"../file-action/action/unpack-list.fn\";\r\nimport { stats2FileItem } from \"./stats-to-file\";\r\n\r\n\r\n@WebSocketGateway(environment.websocketPort, environment.websocketOptions)\r\nexport class DirGateway {\r\n\r\n  @WebSocketServer() server: Server;\r\n\r\n  private fsWatcher: FSWatcher;\r\n\r\n\r\n  constructor() {\r\n    this.fsWatcher = new FSWatcher({\r\n      ignoreInitial: true,\r\n      disableGlobbing: true,\r\n      depth: 0,\r\n      atomic: true\r\n    });\r\n    new Observable<WatchEventData>(\r\n      (subscriber) => {\r\n        this.fsWatcher\r\n          .on(\"all\", (event, f) => {\r\n            subscriber.next(new WatchEventData(event, f));\r\n          });\r\n      })\r\n      .pipe(\r\n        distinctUntilChanged(\r\n          (prev, curr) =>\r\n            prev?.event === curr.event && prev?.file === curr.file)\r\n      )\r\n      .subscribe(wed => {\r\n        if (wed.event === \"add\" || wed.event === \"addDir\") {\r\n          const fileItem = this.createFileItem(wed.file);\r\n          const dirEvent = new DirEvent(fileItem.dir, [fileItem], false, false, 1, \"\", wed.event);\r\n          this.server.emit(\"watching\", dirEvent);\r\n\r\n        } else if (wed.event === \"unlink\" || wed.event === \"unlinkDir\" || wed.event === \"change\") {\r\n          const fileItem = this.createFileItemByFullPath(wed.file);\r\n          fileItem.isDir = wed.event === \"unlinkDir\";\r\n          const dirEvent = new DirEvent(fileItem.dir, [fileItem], false, false, 1, \"\", wed.event);\r\n          this.server.emit(\"watching\", dirEvent);\r\n        }\r\n      }, error => {\r\n        console.error(error);\r\n      });\r\n\r\n  }\r\n\r\n  @SubscribeMessage(\"watch\")\r\n  watch(@MessageBody() para: DirPara): void {\r\n    this.fsWatcher.add(para.path);\r\n  }\r\n\r\n  @SubscribeMessage(\"unwatch\")\r\n  unwatch(@MessageBody() para: DirPara): void {\r\n    this.fsWatcher.unwatch(para.path);\r\n  }\r\n\r\n  @SubscribeMessage(\"dir\")\r\n  onDir(@MessageBody() para: DirPara): void {\r\n    let p = para.path;\r\n    if (p.indexOf(\":\") === p.length - 1) p = path.join(p, \"/\");\r\n    p = fixPath(p);\r\n\r\n    const emmitKey = `dir${para.rid}`;\r\n\r\n    try {\r\n      if (isZipUrl(p)) {\r\n        this.readZipDir(p, emmitKey);\r\n      } else {\r\n        this.readdir(p, emmitKey);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      const ev = new DirEvent(p, [], true, true, 0, e);\r\n      this.server.emit(emmitKey, ev);\r\n    }\r\n  }\r\n\r\n  private createFileItemByFullPath(full: string): FileItem {\r\n    return new FileItem(path.dirname(full), path.basename(full), path.extname(full));\r\n  }\r\n\r\n  private readZipDir(file: string, emmitKey: string): void {\r\n    const zipUrlInfo = getZipUrlInfo(file);\r\n    unpacklist(zipUrlInfo.zipUrl)\r\n      .then(ev => {\r\n        this.server.emit(emmitKey, ev);\r\n      });\r\n  }\r\n\r\n  private readdir(p: string, emmitKey: string): void {\r\n    const socket = this.server;\r\n    const files = fs.readdirSync(p); //, (error, files) => {\r\n    const allAtOnce = files.length < 10000;\r\n\r\n    if (!allAtOnce) {\r\n      const previews = files.map(\r\n        (f) => new FileItem(p, fixPath(f), path.extname(f), null)\r\n      );\r\n      const end = files.length === 0;\r\n      const firstEvent = new DirEvent(p, previews, true, end, files.length, \"\", \"listpreview\");\r\n      socket.emit(emmitKey, firstEvent);\r\n    }\r\n\r\n    const fileItems: FileItem[] = [];\r\n    for (let idx = 0; idx < files.length; idx++) {\r\n      const f = files[idx];\r\n      const ff = path.join(p, \"/\", f);\r\n\r\n      const fileItem = new FileItem(\r\n        p,\r\n        fixPath(f),\r\n        path.extname(f),\r\n        null\r\n      );\r\n      fileItems.push(fileItem);\r\n\r\n      const dirEvent = new DirEvent(p, [fileItem]);\r\n\r\n      try {\r\n        const stats = fs.statSync(ff);\r\n        stats2FileItem(stats, fileItem);\r\n      } catch (e) {\r\n        fileItem.error = e;\r\n        console.info(\"DirGateWay() stats error:\", e.message);\r\n      }\r\n      if (idx === files.length - 1) {\r\n        dirEvent.end = true;\r\n      }\r\n      if (!allAtOnce) {\r\n        socket.emit(emmitKey, dirEvent);\r\n      }\r\n    } // for\r\n\r\n    if (allAtOnce) {\r\n      const dirEvent = new DirEvent(p, fileItems, true, true, fileItems.length, \"\", \"list\");\r\n      socket.emit(emmitKey, dirEvent);\r\n    }\r\n  }\r\n\r\n  private createFileItem(file: string): FileItem {\r\n    const stats = fs.statSync(file);\r\n\r\n    const dir = path.dirname(file);\r\n    const base = path.basename(file);\r\n    const ext = path.extname(file);\r\n    const fileItem = new FileItem(dir, base, ext, null);\r\n\r\n    stats2FileItem(stats, fileItem);\r\n\r\n    return fileItem;\r\n  }\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { DirGateway } from \"./dir.gateway\";\r\nimport { DirService } from \"./dir-service\";\r\nimport { DirController } from \"./dir.controller\";\r\n\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [\r\n    DirController\r\n  ],\r\n  providers: [\r\n    DirGateway,\r\n    DirService\r\n  ],\r\n  exports: [\r\n    DirGateway\r\n  ]\r\n})\r\nexport class DirModule {\r\n}\r\n","import { Stats } from \"fs\";\r\nimport { FileItem } from \"@fnf/fnf-data\";\r\n\r\nexport function stats2FileItem(stats: Stats, fileItem: FileItem): FileItem {\r\n  // see https://npmdoc.github.io/node-npmdoc-fs-extra/build/apidoc.html#apidoc.element.fs-extra.Stats\r\n  if (stats) {\r\n    fileItem.size = stats.isDirectory() ? null : stats.size;\r\n    fileItem.date = new Date(stats.atime).toISOString();\r\n    fileItem.isDir = stats.isDirectory();\r\n  }\r\n  return fileItem;\r\n}\r\n","import { DirWatcherEventType } from \"@fnf/fnf-data\";\r\n\r\n\r\nexport class WatchEventData {\r\n\r\n\r\n  constructor(\r\n    public event: DirWatcherEventType,\r\n    public file: string\r\n  ) {\r\n  }\r\n}\r\n","import { Controller, Get, Post } from \"@nestjs/common\";\r\nimport { DrivesService } from \"./drives.service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MessageBody } from \"@nestjs/websockets\";\r\nimport { DirPara } from '@fnf/fnf-data';\r\n\r\n\r\n@Controller()\r\nexport class DrivesController {\r\n  constructor(private readonly drivesService: DrivesService) {\r\n  }\r\n\r\n  @Get(\"drives\")\r\n  getData(): Observable<string[]> {\r\n    return this.drivesService.getData();\r\n  }\r\n\r\n  @Post(\"exists\")\r\n  exists(@MessageBody() para: DirPara): boolean {\r\n    return this.drivesService.exists(para.path);\r\n  }\r\n\r\n  @Post(\"checkpath\")\r\n  checkPath(@MessageBody() para: DirPara): string {\r\n    return this.drivesService.checkPath(para.path);\r\n  }\r\n}\r\n","import { DynamicModule, Logger, Module } from \"@nestjs/common\";\r\nimport { DrivesService } from \"./drives.service\";\r\nimport { DrivesController } from \"./drives.controller\";\r\n\r\n@Module({\r\n  controllers: [\r\n    DrivesController\r\n  ]\r\n})\r\nexport class DrivesModule {\r\n\r\n  public static forRoot(restrictedPaths: string[] | undefined): DynamicModule {\r\n    if (restrictedPaths) {\r\n      DrivesService.restrictedPaths = restrictedPaths;\r\n      Logger.log(\"DrivesService.restrictedPaths -> \" + DrivesService.restrictedPaths);\r\n    }\r\n    return {\r\n      module: DrivesModule,\r\n      providers: [\r\n        DrivesService\r\n      ]\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@nestjs/common';\r\nimport * as os from 'os';\r\n\r\nimport { spawn } from 'child_process';\r\nimport { from, Observable, of } from 'rxjs';\r\nimport * as fse from 'fs-extra';\r\nimport * as path from 'path';\r\nimport { fixPath, VOLS_DIR } from '@fnf/fnf-data';\r\n\r\nexport type DrivesCallbackFn = (eror: number, sysinfo: string[]) => void;\r\n\r\n@Injectable()\r\nexport class DrivesService {\r\n\r\n  static restrictedPaths: string[];\r\n\r\n  containerVols: string[];\r\n  containerMode = false;\r\n\r\n\r\n  constructor() {\r\n    this.containerMode = this.exists(VOLS_DIR);\r\n    if (this.containerMode) {\r\n      try {\r\n        const ffs = fse.readdirSync(VOLS_DIR);\r\n        this.containerVols = ffs\r\n          .filter(n => n.indexOf('.') === -1)\r\n          .map(n => path.join(VOLS_DIR, '/', n));\r\n      } catch (e) {\r\n        // ignore\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  getData(): Observable<string[]> {\r\n    if (this.containerVols?.length) {\r\n      return of(this.containerVols);\r\n    }\r\n    return from(this.getDrivesPromise());\r\n  }\r\n\r\n  hasRestrictedPaths(): boolean {\r\n    return !!DrivesService.restrictedPaths?.length;\r\n  }\r\n\r\n  exists(path: string) {\r\n    try {\r\n      return fse.existsSync(path.split(':')[0]);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param path  the path (if exists) , else the next possible path\r\n   */\r\n  checkPath(path: string): string {\r\n    path = fixPath(path);\r\n\r\n    while (path.length > 0) {\r\n      if (this.exists(path)) {\r\n        return path;\r\n      }\r\n      if (path.indexOf('/') > -1) {\r\n        path = path.substr(0, path.lastIndexOf('/'));\r\n      } else {\r\n        return '/';\r\n      }\r\n    }\r\n    return '/';\r\n  }\r\n\r\n  private getWinDrives(callback: DrivesCallbackFn) {\r\n    if (os.platform().indexOf('win') !== 0) {\r\n      return callback(null, []);\r\n    } // for windows only.\r\n\r\n    let stdout = '';\r\n    const list = spawn('cmd');\r\n\r\n    list.stdout.on('data', function(data) {\r\n      stdout += data;\r\n    });\r\n\r\n    list.stderr.on('data', function(data) {\r\n      console.error('stderr: ' + data);\r\n    });\r\n\r\n    list.on('exit', function(code) {\r\n      if (code == 0) {\r\n        let data = stdout.split('\\r\\n');\r\n        data = data.splice(4, data.length - 7);\r\n        data = data\r\n          .map(Function.prototype.call, String.prototype.trim)\r\n          .map(s => s + '/');\r\n        callback(null, data);\r\n      } else {\r\n        callback(code, null);\r\n      }\r\n    });\r\n    list.stdin.write('wmic logicaldisk get caption\\n');\r\n    list.stdin.end();\r\n  }\r\n\r\n  private getDrivesPromise(): Promise<string[]> {\r\n    return new Promise<string[]>((resolve, reject) => {\r\n      this.getWinDrives((err, info) => {\r\n        if (err) {\r\n          return reject(err);\r\n        }\r\n        resolve(info);\r\n      });\r\n    });\r\n  }\r\n}\r\n","export function clone<T>(o: T): T {\r\n  return JSON.parse(JSON.stringify(o));\r\n}\r\n","import { DoEventIf, FilePara } from \"@fnf/fnf-data\";\r\n\r\n\r\nexport function dummy(para: FilePara): Promise<DoEventIf> {\r\n  return new Promise<DoEventIf>((resolve, reject) => {\r\n    reject(\"Error: Unknown cmd: \" + para.cmd);\r\n  });\r\n}\r\n","export function slash2backSlash(s: string): string {\r\n  return s.replace(/\\//g, \"\\\\\");\r\n}\r\n","import { DirEvent, DirEventIf, FileItemIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport * as os from \"os\";\r\nimport * as path from \"path\";\r\nimport * as fse from \"fs-extra\";\r\nimport { exec } from \"child_process\";\r\nimport { slash2backSlash } from \"./common/slash-2-backslash.fn\";\r\nimport { clone } from \"./common/clone\";\r\nimport { Logger } from \"@nestjs/common\";\r\n\r\nconst platform = os.platform();\r\nconst osx = platform === \"darwin\";\r\nconst windows = platform.indexOf(\"win\") === 0;\r\nconst linux = platform.indexOf(\"linux\") === 0;\r\n\r\nconst logger = new Logger(\"fn-copy\");\r\n\r\nexport function copy(para: FilePara): Promise<DirEventIf[]> {\r\n\r\n\r\n  function createRet(targetUrl: string, para: FilePara) {\r\n    const item = clone<FileItemIf>(para.source);\r\n    item.dir = targetUrl;\r\n    const ret: DirEventIf[] = [];\r\n    ret.push(new DirEvent(para.source.dir, [para.source], false, false, 1, \"\", \"unselect\"));\r\n    ret.push(new DirEvent(targetUrl, [item], false, false, 1, \"\", item.isDir ? \"addDir\" : \"add\"));\r\n    return ret;\r\n  }\r\n\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    if (!para || !para.source || !para.target) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const ptarget = para.target;\r\n    const psource = para.source;\r\n\r\n    const sourceUrl = fixPath(\r\n      path.join(psource.dir, \"/\", psource.base ? psource.base : \"\")\r\n    );\r\n    const targetUrl = fixPath(\r\n      path.join(ptarget.dir, \"/\", ptarget.base ? ptarget.base : \"\")\r\n    );\r\n\r\n    fse.stat(sourceUrl, (error, stats) => {\r\n      if (!stats) {\r\n        reject(error);\r\n        return;\r\n      }\r\n      const sourceIsDirectory = stats.isDirectory(); // source only, target not exists!\r\n      const targetMkdir = sourceIsDirectory ? targetUrl : ptarget.dir;\r\n\r\n      fse.mkdirs(targetMkdir, (error) => {\r\n        if (error) {\r\n          reject(error);\r\n          return;\r\n        }\r\n\r\n        let cmd;\r\n        if (osx) {\r\n          // cp -r \"/Users/marc/__test/src/DUDEN Deutsch 3. Klasse - Lernkalender.pdf\" \"/Users/marc/__test/target\"\r\n          // cp -r \"/Users/marc/__test/src/a\" \"/Users/marc/__test/target\"\r\n          cmd = \"cp -r \\\"\" + sourceUrl + \"\\\" \\\"\" + ptarget.dir + \"\\\"\";\r\n\r\n        } else if (windows) {\r\n          let src = slash2backSlash(sourceUrl);\r\n          if (sourceIsDirectory) {\r\n            // xcopy  \"C:\\Users\\kronmar\\bbbbb\\marc\\a\" \"C:\\Users\\kronmar\\bbbbb\\marc2\\a\\\" /E /C /I /H /R /Y\r\n            let t1 = slash2backSlash(ptarget.dir + \"/\" + psource.base + \"/\");\r\n            cmd = `xcopy  \"${src}\" \"${t1}\" /E /C /I /H /R /Y `;\r\n\r\n          } else {\r\n            // xcopy  \"C:\\Users\\kronmar\\bbbbb\\marc\\zipEntries.js\" \"C:\\Users\\kronmar\\bbbbb\\marc2\" /Y\r\n            let td = slash2backSlash(ptarget.dir);\r\n            cmd = `xcopy  \"${src}\" \"${td}\" /Y `;\r\n          }\r\n\r\n        } else if (linux) {\r\n          if (sourceIsDirectory) {\r\n            // dir to dir:\r\n            // rsync -avzh /root/rpmpkgs /tmp/backups/\r\n            cmd = `rsync -avzh \"${sourceUrl}\" \"${targetUrl}\"`;\r\n          } else {\r\n            // file to dir:\r\n            // rsync -zvh backup.tar.gz /tmp/backups/\r\n            cmd = `rsync -zvh \"${sourceUrl}\" \"${targetUrl}\"`;\r\n          }\r\n\r\n        }\r\n\r\n        logger.log(\"cmd: \" + cmd);\r\n\r\n        exec(cmd, (error, stdout, stderr) => {\r\n          if (error) {\r\n            logger.error(error);\r\n            // zweiter Versuch:\r\n            const to = path.join(targetUrl, \"/\", para.source.base);\r\n            fse.copy(sourceUrl, to, (error) => {\r\n              if (error) {\r\n                logger.error(error);\r\n                reject(error);\r\n              } else {\r\n                const ret = createRet(targetUrl, para);\r\n                resolve(ret);\r\n              }\r\n            });\r\n          } else {\r\n            const ret = createRet(targetUrl, para);\r\n            resolve(ret);\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n\r\n}\r\n","import { DirEvent, DirEventIf, FileItemIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport * as path from \"path\";\r\nimport * as fse from \"fs-extra\";\r\nimport { clone } from \"./common/clone\";\r\n\r\n\r\nexport function mkdir(para: FilePara): Promise<DirEventIf[]> {\r\n\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    if (!para || !para.target) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const ptarget = para.target;\r\n    const targetUrl = fixPath(\r\n      path.join(ptarget.dir, \"/\", ptarget.base ? ptarget.base : \"\")\r\n    );\r\n\r\n    fse.mkdir(targetUrl, (error) => {\r\n      if (error) {\r\n        reject(error);\r\n      } else {\r\n        fse.stat(targetUrl, (error, stats) => {\r\n          if (error || !stats) {\r\n            reject(error);\r\n          } else {\r\n            const targetItem = clone<FileItemIf>(para.target);\r\n            const item1 = new DirEvent(para.target.dir, [targetItem], false, false, 1, \"\", \"addDir\");\r\n            const item2 = new DirEvent(para.target.dir, [targetItem], false, false, 1, \"\", \"select\");\r\n            const ret: DirEventIf[] = [item1, item2];\r\n            resolve(ret);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n","import * as os from \"os\";\r\nimport * as path from \"path\";\r\nimport * as fse from \"fs-extra\";\r\nimport { exec } from \"child_process\";\r\nimport { slash2backSlash } from \"./common/slash-2-backslash.fn\";\r\nimport { DirEvent, DirEventIf, FileItemIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport { clone } from \"./common/clone\";\r\nimport { Logger } from \"@nestjs/common\";\r\n\r\nconst platform = os.platform();\r\nconst osx = platform === \"darwin\";\r\nconst windows = platform.indexOf(\"win\") === 0;\r\nconst linux = platform.indexOf(\"linux\") === 0;\r\n\r\nconst logger = new Logger(\"fn-move\");\r\n\r\nexport function move(para: FilePara): Promise<DirEventIf[]> {\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    if (!para || !para.source || !para.target) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const ptarget = para.target;\r\n    const psource = para.source;\r\n\r\n    const source = fixPath(path.join(psource.dir, \"/\", psource.base));\r\n    const target = fixPath(path.join(ptarget.dir, \"/\", ptarget.base));\r\n\r\n    fse.stat(source, (error, stats) => {\r\n      const sourceIsDirectory = stats.isDirectory(); // source only, target not exists!\r\n      const targetMkdir = sourceIsDirectory ? target : ptarget.dir;\r\n\r\n      fse.mkdirs(targetMkdir, (error) => {\r\n        if (error) {\r\n          reject(error);\r\n          return;\r\n        }\r\n\r\n        let cmd;\r\n        //const t = target;\r\n        if (osx) {\r\n          // cmd mv \"/Users/marc/__test/src/a\" \"/Users/marc/__test/target\"\r\n          // cmd mv \"/Users/marc/__test/src/DUDEN Deutsch 3. Klasse - Lernkalender.pdf\" \"/Users/marc/__test/target\"\r\n          cmd = \"mv \\\"\" + source + \"\\\" \\\"\" + ptarget.dir + \"\\\"\";\r\n\r\n        } else if (windows) {\r\n\r\n          const bsTargetDir = slash2backSlash(ptarget.dir);\r\n          if (psource.isDir) {\r\n            // robocopy \"test\\demo\\a1\" \".\\test\\demo\\mkdir1\\a1\" /e /move\r\n            let bsSource = `${slash2backSlash(source)}`;\r\n            cmd = `robocopy  \"${bsSource}\" \"${bsTargetDir}\" /e /move`;\r\n          } else {\r\n            const bsSourceDir = slash2backSlash(psource.dir);\r\n            cmd = `robocopy  \"${bsSourceDir}\" \"${bsTargetDir}\" ${psource.base}  /move`;\r\n          }\r\n\r\n        } else if (linux) {\r\n          if (sourceIsDirectory) {\r\n            // dir to dir:\r\n            // rsync -avzh /root/rpmpkgs /tmp/backups/\r\n            cmd = `rsync --remove-source-files -avzh \"${source}\" \"${target}\"`;\r\n          } else {\r\n            // file to dir:\r\n            // rsync -zvh backup.tar.gz /tmp/backups/\r\n            cmd = `rsync --remove-source-files -zvh \"${source}\" \"${target}\"`;\r\n          }\r\n        }\r\n\r\n        logger.log(\"cmd: \" + cmd);\r\n\r\n        exec(cmd, (error, stdout, stderr) => {\r\n          const realError = stdout?.match(\r\n            /[\\s\\S]*----[\\s\\S]*(ERROR\\s*:?\\s*[\\s\\S]*?)(Simple Usage|$)/\r\n          );\r\n\r\n          const item1 = new DirEvent(para.source.dir, [para.source], false, false, 1, \"\", para.source.isDir ? \"unlinkDir\" : \"unlink\");\r\n          const targetItem = clone<FileItemIf>(para.target);\r\n          const item2 = new DirEvent(para.target.dir, [targetItem], false, false, 1, \"\", para.source.isDir ? \"addDir\" : \"add\");\r\n          const ret: DirEventIf[] = [item1, item2];\r\n\r\n          if (realError) {\r\n            logger.error(realError);\r\n            // zweiter Versuch:\r\n            fse.move(source, target, (error) => {\r\n              if (error) {\r\n                logger.error(error);\r\n                reject(error);\r\n              } else {\r\n                resolve(ret);\r\n              }\r\n            });\r\n          } else {\r\n            resolve(ret);\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n}\r\n","import * as path from \"path\";\r\nimport { DirEventIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport { exec } from \"child_process\";\r\nimport * as os from \"os\";\r\n\r\nconst platform = os.platform();\r\nconst osx = platform === \"darwin\";\r\nconst linux = platform.indexOf(\"linux\") === 0;\r\nconst windows = platform.indexOf(\"win\") === 0;\r\n\r\n\r\nfunction execute(\r\n  cmd: string,\r\n  cmdAlternate: string\r\n): Promise<string> {\r\n\r\n  return new Promise<string>((resolve, reject) => {\r\n    if (!cmd) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    exec(cmd, (error, stdout, stderr) => {\r\n      if (error) {\r\n        // Second try:\r\n        exec(cmdAlternate, (error, stdout, stderr) => {\r\n          if (error) {\r\n            reject(error);\r\n          } else {\r\n            resolve(\"ok\");\r\n          }\r\n        });\r\n      } else {\r\n        resolve(\"ok\");\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nexport function open(para: FilePara): Promise<DirEventIf[]> {\r\n\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    const psource = para.source;\r\n    const source = fixPath(path.join(psource.dir, \"/\", psource.base));\r\n\r\n\r\n    let cmd;\r\n    let cmdAlternate;\r\n    if (windows) {\r\n      // http://stackoverflow.com/questions/12010103/launch-a-program-from-command-line-without-opening-a-new-window\r\n      cmd = \" start \\\"\\\" /max \\\"\" + source + \"\\\" \";\r\n    } else if (osx) {\r\n      cmd = \" open  \\\"\" + source + \"\\\" \";\r\n    } else if (linux) {\r\n      cmd = \"evince -f \\\"\" + source + \"\\\" \";\r\n      cmdAlternate = \"kpdf \\\"\" + source + \"\\\" \";\r\n    } else {\r\n      reject(\"open file-content not supported for system.\");\r\n      return;\r\n    }\r\n\r\n    execute(cmd, cmdAlternate);\r\n\r\n    // open PDF:\r\n    //\r\n    // W i n d o w s :\r\n    // http://stackoverflow.com/questions/6557920/how-to-open-a-pdf-in-fullscreen-view-via-command-line\r\n    // var cmd = ' start \"\" /max \"h:\\\\docs\\\\allg\\\\ZEISS Lisa\\\\AT-LISA-tri-family-Datasheet-DE.pdf\" ';\r\n    //\r\n    // M a c   O S   X\r\n    // 'open h:\\\\docs\\\\allg\\\\ZEISS Lisa\\\\AT-LISA-tri-family-Datasheet-DE.pdf'\r\n    //\r\n    // g n o m e   d e s k t o p :\r\n    // https://help.gnome.org/users/evince/stable/commandline.html.en\r\n    // http://stackoverflow.com/questions/264395/linux-equivalent-of-the-mac-os-x-open-command\r\n    // evince -f file-content.pdf\r\n    //\r\n    // K D E   d e s k t o p :\r\n    //  kpdf file-content.pdf\r\n    //\r\n    // TODO   siehe D:\\repos\\node-files-and-folders-server\\lib\\socket\\cmd\\open.js\r\n    // fse.remove(source, function(error) {\r\n    //   if (error) {\r\n    //     ret.error = error;\r\n    //     reject(ret);\r\n    //   } else {\r\n    //     console.log('remove done: ' + source, error);\r\n    //   resolve(new DoEvent(para.source, para.target, para.cmd, error?.message));\r\n    // }\r\n    // });\r\n  });\r\n}\r\n","import * as path from \"path\";\r\nimport * as fse from \"fs-extra\";\r\nimport { DirEvent, DirEventIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\n\r\nexport function remove(para: FilePara): Promise<DirEventIf[]> {\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    if (!para || !para.source) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const psource = para.source;\r\n    const source = fixPath(path.join(psource.dir, \"/\", psource.base));\r\n    const ret: DirEventIf[] = [];\r\n    fse.remove(source, (error) => {\r\n      if (error) {\r\n        reject(error);\r\n      } else {\r\n        ret.push(new DirEvent(para.source.dir, [para.source], false, false, 1, \"\", para.source.isDir ? \"unlinkDir\" : \"unlink\"));\r\n        resolve(ret);\r\n      }\r\n    });\r\n  });\r\n}\r\n","import { DirEvent, DirEventIf, FileItemIf, FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport * as path from \"path\";\r\nimport * as fse from \"fs-extra\";\r\nimport { clone } from \"./common/clone\";\r\n\r\nexport function rename(para: FilePara): Promise<DirEventIf[]> {\r\n  return new Promise<DirEventIf[]>((resolve, reject) => {\r\n    if (!para || !para.source || !para.target) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const ptarget = para.target;\r\n    const psource = para.source;\r\n\r\n    const sourceUrl = fixPath(\r\n      path.join(psource.dir, \"/\", psource.base ? psource.base : \"\")\r\n    );\r\n    const targetUrl = fixPath(\r\n      path.join(ptarget.dir, \"/\", ptarget.base ? ptarget.base : \"\")\r\n    );\r\n\r\n    fse.rename(sourceUrl, targetUrl, (error) => {\r\n      if (error) {\r\n        reject(error);\r\n        return;\r\n      }\r\n\r\n      fse.stat(targetUrl, (error, stats) => {\r\n        if (error || !stats) {\r\n          reject(error);\r\n        } else {\r\n\r\n          const targetItem = clone<FileItemIf>(para.target);\r\n          const item1 = new DirEvent(para.target.dir, [targetItem], false, false, 1, \"\", targetItem.isDir ? \"addDir\" : \"add\");\r\n          const item2 = new DirEvent(para.source.dir, [para.source], false, false, 1, \"\", para.source.isDir ? \"addDir\" : \"add\");\r\n          const ret: DirEventIf[] = [item1, item2];\r\n          resolve(ret);\r\n        }\r\n\r\n        // var msg = {\r\n        //   event: 'created',\r\n        //   panelIndex:action.panelIndex,\r\n        //   item: {dir: action.target.dir, base: slash.fixPath(action.target.base)}\r\n        // };\r\n        // if (stats) {\r\n        //   msg.item.size = stats.isDirectory() ? null : stats.size;\r\n        //   msg.item.date = stats.atime;\r\n        //   msg.item.isDir = stats.isDirectory();\r\n        // }\r\n        //\r\n        // var back = {\r\n        //   events: [\r\n        //     {\r\n        //       event: 'removed',\r\n        //       panelIndex: action.panelIndex,\r\n        //       item: action.src\r\n        //     },\r\n        //     msg,\r\n        //     {\r\n        //       event: 'focus',\r\n        //       panelIndex: action.panelIndex,\r\n        //       item: action.target\r\n        //     }\r\n        //   ],\r\n        //   error: null\r\n        // };\r\n      });\r\n    });\r\n  });\r\n}\r\n","import { DirEvent, DirEventIf, FileItem, FileItemIf } from \"@fnf/fnf-data\";\r\nimport * as StreamZip from \"node-stream-zip\";\r\nimport * as path from \"path\";\r\n\r\nexport async function unpacklist(file: string): Promise<DirEventIf> {\r\n\r\n  return new Promise<DirEventIf>(async (resolve, reject) => {\r\n    if (!file) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const zip = new StreamZip.async({ file });\r\n      const entries = await zip.entries();\r\n      const fileItems: FileItemIf[] = [];\r\n      const zipDir = file + \":\";\r\n      const dirEvent = new DirEvent(zipDir, fileItems, true, true, fileItems.length, \"\", \"list\");\r\n\r\n      for (const entry of Object.values(entries)) {\r\n        const entryDir = path.dirname(entry.name);\r\n        const entryBase = path.basename(entry.name);\r\n        if (entry.isDirectory || entry.isFile) {\r\n          let dir = (zipDir + \":/\" + entryDir).replace(/::/g, \":\");\r\n          if (dir.endsWith(\"/.\")) {\r\n            dir = dir.substr(0, dir.length - 2);\r\n          }\r\n          fileItems.push(new FileItem(dir, entryBase, \"\", \"\", \"\", entry.size, entry.isDirectory, false));\r\n        }\r\n      }\r\n      await zip.close();\r\n      resolve(dirEvent);\r\n\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n}\r\n","import { FilePara, fixPath } from \"@fnf/fnf-data\";\r\nimport * as path from \"path\";\r\n\r\nimport * as StreamZip from \"node-stream-zip\";\r\nimport * as fse from \"fs-extra\";\r\n\r\nexport function unpack(para: FilePara): Promise<number> {\r\n  return new Promise<number>((resolve, reject) => {\r\n    if (!para || !para.source || !para.target) {\r\n      reject(\"Invalid argument exception!\");\r\n      return;\r\n    }\r\n    const ptarget = para.target;\r\n    const psource = para.source;\r\n\r\n    const sourceUrl = fixPath(\r\n      path.join(psource.dir, \"/\", psource.base ? psource.base : \"\")\r\n    );\r\n    const targetUrl = fixPath(\r\n      path.join(ptarget.dir, \"/\", ptarget.base ? ptarget.base : \"\")\r\n    );\r\n\r\n    fse.ensureDirSync(targetUrl);\r\n\r\n    const zip = new StreamZip.async({ file: sourceUrl });\r\n    zip.extract(null, targetUrl).then(async count => {\r\n      await zip.close();\r\n      resolve(count);\r\n    });\r\n  });\r\n}\r\n","import { Controller, Logger, Post } from \"@nestjs/common\";\r\nimport { FileService } from \"./file.service\";\r\nimport { MessageBody } from \"@nestjs/websockets\";\r\nimport { DirEventIf, DirPara, FilePara, WalkData, WalkParaData } from \"@fnf/fnf-data\";\r\n\r\nimport * as fs from \"fs-extra\";\r\nimport * as path from \"path\";\r\n\r\n@Controller(\"do\")\r\nexport class FileActionController {\r\n\r\n  private readonly logger = new Logger(FileActionController.name);\r\n\r\n  constructor(\r\n    private readonly fileService: FileService\r\n  ) {\r\n  }\r\n\r\n  @Post(\"\")\r\n  async onDo(@MessageBody() para: FilePara): Promise<DirEventIf[] | DirEventIf | string | number> {\r\n    this.logger.log(\"cmd:\", para.cmd);\r\n    let fn = this.fileService.getFunctionByCmd(para.cmd);\r\n    return fn(para);\r\n  }\r\n\r\n\r\n  @Post(\"unpacklist\")\r\n  async unpacklist(@MessageBody() para: DirPara): Promise<DirEventIf> {\r\n    return this.fileService.unpacklist(para.path);\r\n  }\r\n\r\n  @Post(\"walkdir\")\r\n  walkdir(@MessageBody() walkParaData: WalkParaData): WalkData {\r\n    const walkData = new WalkData();\r\n    const buf = [...walkParaData.files];\r\n\r\n    while (buf.length) {\r\n      const ff = buf.pop();\r\n      const stats = fs.statSync(ff);\r\n      if (stats.isDirectory()) {\r\n        walkData.folderCount++;\r\n        const ffs = fs.readdirSync(ff);\r\n        ffs.forEach(f => buf.push(path.join(ff, f)));\r\n      } else if (stats.isFile()) {\r\n        walkData.fileCount++;\r\n        walkData.sizeSum = walkData.sizeSum + stats.size;\r\n      }\r\n    }\r\n    return walkData;\r\n  }\r\n\r\n}\r\n","import { MessageBody, SubscribeMessage, WebSocketGateway, WebSocketServer } from \"@nestjs/websockets\";\r\nimport { Server } from \"socket.io\";\r\nimport { environment } from \"../../environments/environment\";\r\nimport { ActionGatewayKeys as keys, FilePara } from \"@fnf/fnf-data\";\r\nimport { Logger } from \"@nestjs/common\";\r\nimport { FileService } from \"./file.service\";\r\n\r\n@WebSocketGateway(environment.websocketPort, environment.websocketOptions)\r\nexport class FileActionGateway {\r\n\r\n  @WebSocketServer() server: Server;\r\n\r\n  private readonly logger = new Logger(FileActionGateway.name);\r\n\r\n  constructor(\r\n    private readonly fileService: FileService\r\n  ) {\r\n  }\r\n\r\n\r\n  @SubscribeMessage(keys.MULTI_DO)\r\n  onMultiDo(@MessageBody() paras: FilePara[]): void {\r\n    for (let i = 0; i < paras.length; i++) {\r\n      const para = paras[i];\r\n      this.logger.log(\"onMultiDo() cmd:\" + para.cmd);\r\n\r\n      let fn = this.fileService.getFunctionByCmd(para.cmd);\r\n      try {\r\n        fn(para)\r\n          .then(event => {\r\n            this.server.emit(keys.ON_MULTI_DO_DONE, event);\r\n          });\r\n      } catch (e) {\r\n        this.server.emit(keys.ON_MULTI_DO_ERROR, para);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { FileService } from \"./file.service\";\r\nimport { FileActionController } from \"./file-action.constroller\";\r\nimport { FileActionGateway } from \"./file-action.gateway\";\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [\r\n    FileActionController\r\n  ],\r\n  providers: [\r\n    FileService,\r\n    FileActionGateway\r\n  ],\r\n  exports: [\r\n    FileActionGateway\r\n  ]\r\n})\r\nexport class FileActionModule {\r\n}\r\n","import { Injectable } from \"@nestjs/common\";\r\nimport { copy } from \"./action/copy.fn\";\r\nimport { move } from \"./action/move.fn\";\r\nimport { mkdir } from \"./action/mkdir.fn\";\r\nimport { remove } from \"./action/remove.fn\";\r\nimport { rename } from \"./action/rename.fn\";\r\nimport { open } from \"./action/open.fn\";\r\nimport { unpack } from \"./action/unpack.fn\";\r\nimport { dummy } from \"./action/common/dummy.fn\";\r\nimport { DirEventIf, FileCmd, FilePara } from \"@fnf/fnf-data\";\r\nimport { unpacklist } from \"./action/unpack-list.fn\";\r\n\r\n// import { unpacklist } from \"./action/unpack-list.fn\";\r\n\r\n@Injectable()\r\nexport class FileService {\r\n\r\n  copy = copy.bind(this); // Promise<DirEventIf[]>\r\n  move = move.bind(this); // Promise<DirEventIf[]>\r\n  mkdir = mkdir.bind(this); // Promise<DirEventIf[]>\r\n  remove = remove.bind(this); // Promise<DirEventIf[]>\r\n  rename = rename.bind(this); // Promise<DirEventIf[]>\r\n\r\n  open = open.bind(this);  // Promise<string>\r\n  unpack = unpack.bind(this); // Promise<number>\r\n  unpacklist = unpacklist.bind(this); // Promise<DirEventIf>\r\n\r\n  dummy = dummy.bind(this);\r\n\r\n  getFunctionByCmd(cmd: FileCmd): (para: FilePara) => Promise<DirEventIf[] | DirEventIf | string | number> {\r\n    if (cmd === \"copy\") return this.copy;\r\n    if (cmd === \"move\") return this.move;\r\n    if (cmd === \"mkdir\") return this.mkdir;\r\n    if (cmd === \"remove\") return this.remove;\r\n    if (cmd === \"rename\") return this.rename;\r\n\r\n    if (cmd === \"open\") return this.open;\r\n    if (cmd === \"unpack\") return this.unpack;\r\n    if (cmd === \"unpacklist\") return this.unpacklist;\r\n\r\n    return this.dummy;\r\n  }\r\n\r\n\r\n}\r\n","import { Controller, Get, Post, Query } from \"@nestjs/common\";\r\nimport { readFileSync, writeFileSync } from \"fs\";\r\nimport { PlainBody } from \"./plain-body\";\r\n\r\n\r\n@Controller(\"file\")\r\nexport class FileController {\r\n\r\n\r\n  // see http://localhost:3333/api/file?name=f:/leeching/_out/delete-empty.bat\r\n  @Get(\"\")\r\n  getFile(@Query() query): string {\r\n    const filename = query.name;\r\n    return readFileSync(filename, { encoding: \"utf-8\" });\r\n  }\r\n\r\n  // see https://stackoverflow.com/questions/52283713/how-do-i-pass-plain-text-as-my-request-body-using-nestjs\r\n  @Post(\"\")\r\n  async saveFile(@Query() query, @PlainBody() text: string) {\r\n    const filename = query.name;\r\n    writeFileSync(filename, text, { encoding: \"utf-8\" });\r\n  }\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { FileController } from \"./file.constroller\";\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [FileController],\r\n  providers: []\r\n})\r\nexport class FileModule {\r\n}\r\n","import { BadRequestException, createParamDecorator, ExecutionContext } from \"@nestjs/common\";\r\nimport * as rawbody from \"raw-body\";\r\n\r\nexport const PlainBody = createParamDecorator(\r\n  async (_, context: ExecutionContext) => {\r\n    const req = context.switchToHttp().getRequest<import(\"express\").Request>();\r\n    if (!req.readable) {\r\n      throw new BadRequestException(\"Invalid body\");\r\n    }\r\n\r\n    return (await rawbody(req)).toString(\"utf8\").trim();\r\n  }\r\n);\r\n","import { MessageBody, SubscribeMessage, WebSocketGateway, WebSocketServer } from \"@nestjs/websockets\";\r\nimport { Server } from \"socket.io\";\r\n\r\nimport * as path from \"path\";\r\nimport * as fs from \"fs-extra\";\r\nimport * as micromatch from \"micromatch\";\r\nimport { environment } from \"../../environments/environment\";\r\nimport { DirEvent, FileItem, FindData } from \"@fnf/fnf-data\";\r\nimport { stats2FileItem } from \"../dir/stats-to-file\";\r\n\r\n@WebSocketGateway(environment.websocketPort, environment.websocketOptions)\r\nexport class FindGateway {\r\n\r\n  @WebSocketServer() server: Server;\r\n  private readonly cancellings = {};\r\n\r\n  @SubscribeMessage(\"find\")\r\n  find(@MessageBody() findData: FindData): void {\r\n    const dirs: string[] = findData.findDialogData.folders ? findData.findDialogData.folders : [findData.findDialogData.folder];\r\n    const allItems: FileItem[] = [];\r\n    let first = true;\r\n    while (dirs.length) {\r\n      if (this.cancellings[findData.emmitCancelKey]) {\r\n        return;\r\n      }\r\n      const dir = dirs.pop();\r\n      const items: FileItem[] = [];\r\n      const ffs = fs.readdirSync(dir);\r\n      ffs.forEach(f => {\r\n        const f2 = path.join(dir, f);\r\n        const stats2 = fs.statSync(f2);\r\n        if (stats2.isDirectory()) {\r\n          dirs.push(f2);\r\n\r\n        } else {\r\n          const dir = path.dirname(f2);\r\n          const base = path.basename(f2);\r\n\r\n          if (micromatch.isMatch(path.join(dir, base), findData.findDialogData.pattern)) {\r\n            const ext = path.extname(f2);\r\n            const fileItem = new FileItem(dir, base, ext, null);\r\n\r\n            stats2FileItem(stats2, fileItem);\r\n            fileItem.abs = true;\r\n            items.push(fileItem);\r\n            allItems.push(fileItem);\r\n          }\r\n        }\r\n      });\r\n      if (items.length) {\r\n        const dirEvent = new DirEvent(findData.dirTabKey, items, first, false, items.length, \"\", \"list\");\r\n        this.server.emit(findData.emmitDataKey, dirEvent);\r\n        console.info(dirEvent); // TODO del\r\n        first = false;\r\n      }\r\n    }\r\n    const dirEvent = new DirEvent(findData.dirTabKey, allItems, true, true, allItems.length, \"\", \"list\");\r\n    this.server.emit(findData.emmitDataKey, dirEvent);\r\n  }\r\n\r\n  @SubscribeMessage(\"cancelfind\")\r\n  cancelFind(@MessageBody() cancelId: string): void {\r\n    this.cancellings[cancelId] = cancelId;\r\n  }\r\n\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { FindGateway } from \"./find.gateway\";\r\n\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [],\r\n  providers: [\r\n    FindGateway\r\n  ],\r\n  exports: [\r\n    FindGateway\r\n  ]\r\n})\r\nexport class FindModule {\r\n}\r\n","import { ArgumentsHost, Catch, ExceptionFilter, HttpException } from \"@nestjs/common\";\r\nimport { Request, Response } from \"express\";\r\n\r\n@Catch(HttpException)\r\nexport class HttpExceptionFilter implements ExceptionFilter {\r\n  catch(exception: HttpException, host: ArgumentsHost) {\r\n    const ctx = host.switchToHttp();\r\n    const response = ctx.getResponse<Response>();\r\n    const request = ctx.getRequest<Request>();\r\n    const status = exception.getStatus();\r\n\r\n    response\r\n      .status(status)\r\n      .json({\r\n        statusCode: status,\r\n        timestamp: new Date().toISOString(),\r\n        path: request.url\r\n      });\r\n  }\r\n}\r\n","import { Controller, Get } from \"@nestjs/common\";\r\nimport { SysinfoService } from \"./sysinfo.service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { SysinfoIf } from \"@fnf/fnf-data\";\r\n\r\n@Controller()\r\nexport class SysinfoController {\r\n  constructor(private readonly sysinfoService: SysinfoService) {\r\n  }\r\n\r\n  @Get(\"sysinfo\")\r\n  getData(): Observable<SysinfoIf> {\r\n    return this.sysinfoService.getData();\r\n  }\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { SysinfoController } from \"./sysinfo.controller\";\r\nimport { SysinfoService } from \"./sysinfo.service\";\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [SysinfoController],\r\n  providers: [SysinfoService]\r\n})\r\nexport class SysinfoModule {\r\n}\r\n","import { Injectable } from \"@nestjs/common\";\r\nimport * as os from \"os\";\r\nimport * as process from \"process\";\r\n\r\nimport { exec, ExecException } from \"child_process\";\r\nimport { from, Observable } from \"rxjs\";\r\nimport { Sysinfo, SysinfoIf } from \"@fnf/fnf-data\";\r\n\r\nconst env = process.env;\r\n\r\nexport type SysInfoCallbackFn = (\r\n  eror: ExecException,\r\n  sysinfo: SysinfoIf\r\n) => void;\r\n\r\n@Injectable()\r\nexport class SysinfoService {\r\n  private systemInfo: SysinfoIf;\r\n\r\n  /**\r\n   *\r\n   * @param cb  callback(error, {\r\n                    type: 'Windows_NT',\r\n                    platform: 'win32',\r\n                    arch: 'x64',\r\n                    linux: false,\r\n                    osx: false,\r\n                    windows: true,\r\n                    smartMachine: false,\r\n                    hostname: 'DEFRAWS123456',\r\n                    username: 'krocon',\r\n                    homedir: 'C:\\\\Users\\\\krocon',\r\n                    tmpdir: 'C:\\\\Users\\\\krocon\\\\AppData\\\\Local\\\\Temp'\r\n                })\r\n   * @returns {*}\r\n   */\r\n  getSystemInfo(cb: SysInfoCallbackFn): void {\r\n    if (this.systemInfo) {\r\n      return cb(null, this.systemInfo);\r\n    }\r\n\r\n    const platform = os.platform();\r\n    const ret = new Sysinfo();\r\n    ret.type = os.type();\r\n    ret.platform = platform;\r\n    ret.arch = os.arch();\r\n    ret.linux = platform.indexOf(\"linux\") === 0;\r\n    ret.osx = platform === \"darwin\";\r\n    ret.windows = platform.indexOf(\"win\") === 0;\r\n    ret.smartMachine = platform === \"sunos\";\r\n    ret.hostname = os.hostname();\r\n    ret.username = env.LOGNAME || env.USER || env.LNAME || env.USERNAME;\r\n    ret.homedir = os.homedir().replace(/\\\\/g, \"/\");\r\n    ret.tmpdir = os.tmpdir().replace(/\\\\/g, \"/\");\r\n\r\n    if (ret.username) {\r\n      return cb(null, ret);\r\n    }\r\n\r\n    if (ret.osx || ret.linux) {\r\n      exec(\"id -un\", (err, stdout) => {\r\n        ret.username = stdout.trim();\r\n        this.systemInfo = ret;\r\n        cb(err, ret);\r\n      });\r\n    } else if (ret.windows) {\r\n      exec(\"whoami\", { encoding: \"utf8\" }, (err, stdout) => {\r\n        ret.username = stdout.trim().replace(/^.*\\\\/, \"\"); // xyz\\user -> user\r\n\r\n        this.systemInfo = ret;\r\n        cb(err, ret);\r\n      });\r\n    } else {\r\n      this.systemInfo = ret;\r\n      cb(null, ret);\r\n    }\r\n  }\r\n\r\n  getSystemInfoPromise(): Promise<SysinfoIf> {\r\n    return new Promise<SysinfoIf>((resolve, reject) => {\r\n      this.getSystemInfo((err, info) => {\r\n        if (err) {\r\n          return reject(err);\r\n        }\r\n        resolve(info);\r\n      });\r\n    });\r\n  }\r\n\r\n  getData(): Observable<SysinfoIf> {\r\n    return from(this.getSystemInfoPromise());\r\n  }\r\n}\r\n","import { MessageBody, SubscribeMessage, WebSocketGateway, WebSocketServer } from \"@nestjs/websockets\";\r\nimport { Server } from \"socket.io\";\r\n\r\nimport * as path from \"path\";\r\nimport * as fs from \"fs-extra\";\r\nimport { environment } from \"../../environments/environment\";\r\nimport { WalkData, WalkParaData } from \"@fnf/fnf-data\";\r\n\r\n@WebSocketGateway(environment.websocketPort, environment.websocketOptions)\r\nexport class WalkGateway {\r\n\r\n  @WebSocketServer() server: Server;\r\n  private readonly cancellings = {};\r\n\r\n  @SubscribeMessage(\"walkdir\")\r\n  walkdir(@MessageBody() walkParaData: WalkParaData): void {\r\n    const walkData = new WalkData();\r\n    const stepsPerMessage = walkParaData.stepsPerMessage;\r\n    const buf = [...walkParaData.files];\r\n    let step = 0;\r\n    while (buf.length) {\r\n      if (this.cancellings[walkParaData.emmitCancelKey]) {\r\n        return;\r\n      }\r\n      step++;\r\n      const ff = buf.pop();\r\n      const stats = fs.statSync(ff);\r\n      if (stats.isDirectory()) {\r\n        walkData.folderCount++;\r\n        if (step % stepsPerMessage === 0) {\r\n          this.server.emit(walkParaData.emmitDataKey, walkData);\r\n        }\r\n        const ffs = fs.readdirSync(ff);\r\n        ffs.forEach(f => buf.push(path.join(ff, f)));\r\n      } else if (stats.isFile()) {\r\n        walkData.fileCount++;\r\n        walkData.sizeSum = walkData.sizeSum + stats.size;\r\n        if (step % stepsPerMessage === 0) {\r\n          this.server.emit(walkParaData.emmitDataKey, walkData);\r\n        }\r\n      }\r\n    }\r\n    walkData.last = true;\r\n    this.server.emit(walkParaData.emmitDataKey, walkData);\r\n  }\r\n\r\n  @SubscribeMessage(\"cancelwalk\")\r\n  cancelWalk(@MessageBody() cancelId: string): void {\r\n    this.cancellings[cancelId] = cancelId;\r\n  }\r\n\r\n\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { WalkGateway } from \"./walk.gateway\";\r\n\r\n\r\n@Module({\r\n  imports: [],\r\n  controllers: [],\r\n  providers: [\r\n    WalkGateway\r\n  ],\r\n  exports: [\r\n    WalkGateway\r\n  ]\r\n})\r\nexport class WalkModule {\r\n}\r\n","const frontendPort = 4200;\r\nconst websocketPort = 3334;\r\n\r\nexport const environment = {\r\n  production: false,\r\n\r\n  frontendPort,\r\n\r\n  websocketPort: websocketPort,\r\n  websocketOptions: {\r\n    cors: {\r\n      origin: [\r\n        'http://localhost:' + frontendPort,\r\n        'http://localhost:' + process.env.PORT,\r\n        'http://localhost:3333'\r\n      ]\r\n    }\r\n  }\r\n};\r\n","export * from './lib/customcss/css-colors.data';\r\n\r\nexport * from './lib/demo/api-interfaces';\r\n\r\nexport * from './lib/emitable';\r\nexport * from './lib/system-meta-data';\r\n\r\nexport * from './lib/cmd/button-enable-states';\r\nexport * from './lib/cmd/get-button-enable-states.fn';\r\n\r\nexport * from './lib/dir/file-item';\r\nexport * from './lib/dir/file-item.if';\r\nexport * from './lib/dir/dir-event.if';\r\nexport * from './lib/dir/dir-event';\r\nexport * from './lib/dir/dir-para';\r\nexport * from './lib/dir/vols-dir';\r\n\r\nexport * from './lib/dir/dir-watcher-event.type';\r\nexport * from './lib/walk/walk.data';\r\nexport * from './lib/walk/walk.data.if';\r\nexport * from './lib/walk/walk-para.data';\r\n\r\nexport * from './lib/file/file-cmd';\r\nexport * from './lib/file/file-para';\r\nexport * from './lib/file/do-event.if';\r\nexport * from './lib/file/do-event';\r\nexport * from './lib/file/action-gateway-cmd';\r\nexport * from './lib/file/do-event-2-dir-event';\r\nexport * from './lib/file/zip-matcher';\r\nexport * from './lib/file/fix-slash.fn';\r\nexport * from './lib/file/fix-path.fn';\r\n\r\nexport * from './lib/find/find-dialog.data';\r\nexport * from './lib/find/find.data';\r\nexport * from './lib/find/search-symbol';\r\n\r\nexport * from './lib/sysinfo/sysinfo.if';\r\nexport * from './lib/sysinfo/sysinfo';\r\nexport { getParent } from \"./lib/file/get-parent\";\r\nexport { isSameDir } from \"./lib/file/is-same-dir\";\r\nexport { isRoot } from \"./lib/file/is-root\";\r\n","export class ButtonEnableStates {\r\n  copy = false;\r\n  edit = false;\r\n  move = false;\r\n  remove = false;\r\n  mkdir = false;\r\n  rename = false;\r\n  unpack = false;\r\n}\r\n","import { ButtonEnableStates, EXP_ZIP_FILE_URL, FileItemIf } from \"@fnf/fnf-data\";\r\n\r\nexport function getButtonEnableStates(items: FileItemIf[]): ButtonEnableStates {\r\n  const states = new ButtonEnableStates();\r\n  states.copy = !!items?.length && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  states.edit = items?.length === 1 && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  states.move = !!items?.length && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  states.remove = !!items?.length && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  states.mkdir = true;\r\n  states.rename = items?.length === 1 && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  states.unpack = items?.length === 1 && !items[0].dir?.match(EXP_ZIP_FILE_URL);\r\n  return states;\r\n}\r\n","export interface CssColors {\r\n  [key: string]: string;\r\n}\r\n","export interface Message {\r\n  message: string;\r\n}\r\n","import {FileItemIf} from './file-item.if';\r\nimport {DirWatcherEventType} from \"./dir-watcher-event.type\";\r\n\r\nexport interface DirEventIf {\r\n  dir: string;\r\n  items: FileItemIf[];\r\n  begin: boolean;\r\n  end: boolean;\r\n  size: number;\r\n  error: string;\r\n  action: DirWatcherEventType;\r\n  panelIndex: number;\r\n}\r\n","import {DirEventIf} from './dir-event.if';\r\nimport {FileItemIf} from './file-item.if';\r\nimport {DirWatcherEventType} from \"./dir-watcher-event.type\";\r\n\r\n\r\nexport class DirEvent implements DirEventIf {\r\n\r\n  constructor(\r\n    public dir: string,\r\n    public items: FileItemIf[] = [],\r\n    public begin: boolean = false,\r\n    public end: boolean = false,\r\n    public size: number = 0,\r\n    public error: string = '',\r\n    public action: DirWatcherEventType = 'list',\r\n    public panelIndex: number = 0\r\n  ) {\r\n  }\r\n\r\n}\r\n","export class DirPara {\r\n\r\n  private static RID = 1000;\r\n  public rid: number;\r\n\r\n  constructor(\r\n    public path: string,\r\n    public componentId: string = '',\r\n    public nocache: boolean = true\r\n  ) {\r\n    this.rid = DirPara.RID++;\r\n  }\r\n}\r\n","export type DirWatcherEventType =\r\n  \"add\" | \"addDir\" |\r\n  \"unlinkDir\" | \"unlink\" |\r\n  \"change\" |\r\n  \"list\" | \"listpreview\" |\r\n  \"select\" | \"unselect\";\r\n","export interface FileItemIf {\r\n  dir: string;\r\n  base: string;\r\n  ext: string;\r\n  size: number;\r\n  date: string;\r\n  isDir: boolean;\r\n  abs: boolean;\r\n}\r\n","import {FileItemIf} from './file-item.if';\r\n\r\nexport class FileItem implements FileItemIf {\r\n\r\n  constructor(\r\n    public dir: string,\r\n    public base: string = '',\r\n    public ext: string = '',\r\n    public date: string = '',\r\n    public error: string = '',\r\n    public size: number = 0,\r\n    public isDir: boolean = false,\r\n    public abs: boolean = false,\r\n  ) {\r\n  }\r\n\r\n}\r\n","export const VOLS_DIR = \"/fnf/vols\";\r\n","export interface Emitable<T> {\r\n\r\n  _cancelled: Record<string, unknown> | null;\r\n\r\n  emit(s: string, o: T): void;\r\n\r\n}\r\n","\r\nexport const ActionGatewayKeys = {\r\n  MULTI_DO : 'multido',\r\n  ON_MULTI_DO_DONE : 'done',\r\n  ON_MULTI_DO_ERROR : 'error'\r\n};\r\n","import { DirEvent, DoEvent } from \"@fnf/fnf-data\";\r\n\r\n\r\nexport const doEvent2DirEvent = (doEvent: DoEvent): DirEvent[] => {\r\n  const ret: DirEvent = new DirEvent(\"\");\r\n  return [ret];\r\n};\r\n","import {FileItemIf} from '@fnf/fnf-data';\r\n\r\nexport interface DoEventIf {\r\n\r\n  error: string;\r\n  source: FileItemIf;\r\n  target: FileItemIf;\r\n  cmd: string;\r\n  stdout: string;\r\n  stderr: string;\r\n\r\n}\r\n","import {FileItemIf} from '@fnf/fnf-data';\r\nimport {DoEventIf} from './do-event.if';\r\n\r\nexport class DoEvent implements DoEventIf {\r\n\r\n\r\n  constructor(\r\n    public source: FileItemIf,\r\n    public target: FileItemIf,\r\n    public cmd: string,\r\n    public error = '',\r\n    public stdout: string = '',\r\n    public stderr: string = ''\r\n  ) {\r\n  }\r\n\r\n\r\n}\r\n","export type FileCmd = 'copy' | 'move' | 'walk' | 'remove' | 'mkdir' | 'rename' | 'unpacklist' | 'unpack' | 'open';\r\n","import {FileCmd, FileItemIf} from \"@fnf/fnf-data\";\r\n\r\nexport class FilePara {\r\n\r\n  constructor(\r\n    public source?: FileItemIf,\r\n    public target?: FileItemIf,\r\n    public cmd: FileCmd = 'walk'\r\n  ) {\r\n  }\r\n}\r\n","import { fixSlash } from '@fnf/fnf-data';\r\n\r\nexport function fixPath(s: string): string {\r\n  if (!s) return '';\r\n  s = fixSlash(s);\r\n  if (s.length===2 && s[1]===':') {\r\n    s = s + '/'; // c: -> c:/\r\n  }\r\n  return s;\r\n}\r\n","export function fixSlash(s: string): string {\r\n  if (!s) return '';\r\n  return s\r\n    .replace(/\\\\/g, \"/\")\r\n    .replace(/\\/\\//g, \"/\");\r\n}\r\n","import { isRoot } from \"./is-root\";\r\n\r\nexport function getParent(url: string): string {\r\n  if (isRoot(url)) return \"\";\r\n  const arr = url.split(\"/\");\r\n  arr.length = arr.length - 1;\r\n  return arr.join(\"/\");\r\n}\r\n","export function isRoot(url: string): boolean {\r\n  if (url === \"\") return true;\r\n  if (url === \".\") return true;\r\n  if (url === \"./\") return true;\r\n  if (url === \"/.\") return true;\r\n  if (url === \"/\") return true;\r\n  if ((url.length === 2 || url.length === 3) && url[1] === \":\") return true;\r\n  return false;\r\n}\r\n","import { isRoot } from \"./is-root\";\r\n\r\nexport function isSameDir(d1: string, d2: string): boolean {\r\n  if (d1 === d2) return true;\r\n  if (isRoot(d1) && isRoot(d2)) return true;\r\n\r\n  if (d1\r\n      .replace(/^[/.\\\\]/g, \"\")\r\n      .replace(/[/.\\\\]$/g, \"\")\r\n      .replace(/[/.\\\\]$/g, \"\")\r\n      .replace(/\\\\/g, \"/\")\r\n      .replace(/\\/\\//g, \"/\")\r\n      .replace(/\\/$/g, \"\")\r\n    ===\r\n    d2\r\n      .replace(/^[/.\\\\]/g, \"\")\r\n      .replace(/[/.\\\\]$/g, \"\")\r\n      .replace(/\\\\/g, \"/\")\r\n      .replace(/\\/\\//g, \"/\")\r\n      .replace(/\\/$/g, \"\")\r\n  ) return true;\r\n\r\n  return false;\r\n}\r\n","export const EXP_ZIP_FILE_URL = /([^:]+.\\w{3}):(.*)/;\r\nexport const EXP_ZIP_FILE_BASE = /^.*\\.(zip|ZIP|rar|RAR)$/;\r\n\r\nexport function getZipUrlInfo(url: string): ZipUrlInfo {\r\n  const matchArr = url.match(EXP_ZIP_FILE_URL);\r\n  if (matchArr) {\r\n    return new ZipUrlInfo(matchArr[0], matchArr[1], matchArr[2]);\r\n  }\r\n  return new ZipUrlInfo(\"\", \"\", \"\");\r\n}\r\n\r\n\r\nexport function isZipUrl(url: string): boolean {\r\n  return !!url.match(EXP_ZIP_FILE_URL);\r\n}\r\n\r\n\r\nexport function isZipBase(url: string): boolean {\r\n  return !!url.match(EXP_ZIP_FILE_BASE);\r\n}\r\n\r\nexport class ZipUrlInfo {\r\n  constructor(\r\n    public readonly fullUrl: string,\r\n    public readonly zipUrl: string,\r\n    public readonly zipInnerUrl: string\r\n  ) {\r\n  }\r\n}\r\n","export class FindDialogData {\r\n\r\n  public folders: string[] | undefined;\r\n\r\n  constructor(\r\n    public folder: string,\r\n    public pattern: string,\r\n    public newtab = true\r\n  ) {\r\n  }\r\n}\r\n","import { FindDialogData } from \"@fnf/fnf-data\";\r\n\r\nexport class FindData {\r\n\r\n  constructor(\r\n    public emmitDataKey: string,\r\n    public emmitCancelKey: string,\r\n    public dirTabKey: string,\r\n    public findDialogData: FindDialogData) {\r\n  }\r\n\r\n}\r\n","\r\n\r\nexport const SEARCH_SYMBOL = '';\r\n","export interface SysinfoIf {\r\n  type: string;\r\n  platform: string;\r\n  arch: string;\r\n  linux: boolean;\r\n  osx: boolean;\r\n  windows: boolean;\r\n  smartMachine: boolean;\r\n  hostname: string;\r\n  username: string;\r\n  homedir: string;\r\n  tmpdir: string;\r\n}\r\n","import {SysinfoIf} from './sysinfo.if';\r\n\r\n\r\nexport class Sysinfo implements SysinfoIf {\r\n\r\n  public type = '';\r\n  public platform = '';\r\n  public arch = '';\r\n  public linux = false;\r\n  public osx = false;\r\n  public windows = false;\r\n  public smartMachine = false;\r\n  public hostname = '';\r\n  public username = '';\r\n  public homedir = '';\r\n  public tmpdir = '';\r\n\r\n}\r\n","export interface SystemMetaData {\r\n  type: string;\r\n  platform: string;\r\n  arch: string;\r\n\r\n  linux: boolean;\r\n  osx: boolean;\r\n  windows: boolean;\r\n\r\n  smartMachine: boolean;\r\n  hostname: string;\r\n  username: string;\r\n  homedir: string;\r\n  tmpdir: string;\r\n}\r\n","export class WalkParaData {\r\n\r\n  constructor(\r\n    public files: string[] = [],\r\n    public emmitDataKey = '',\r\n    public emmitCancelKey = '',\r\n    public stepsPerMessage = 10\r\n  ) {\r\n  }\r\n\r\n}\r\n","export interface WalkDataIf {\r\n\r\n  fileCount: number;\r\n  sizeSum: number;\r\n  folderCount: number;\r\n\r\n}\r\n","import {WalkDataIf} from './walk.data.if';\r\n\r\nexport class WalkData implements WalkDataIf {\r\n\r\n  constructor(\r\n    public fileCount: number = 0,\r\n    public folderCount: number = 0,\r\n    public sizeSum: number = 0,\r\n    public last = false\r\n  ) {\r\n  }\r\n\r\n}\r\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/serve-static\");","module.exports = require(\"@nestjs/websockets\");","module.exports = require(\"chokidar\");","module.exports = require(\"fs-extra\");","module.exports = require(\"micromatch\");","module.exports = require(\"node-stream-zip\");","module.exports = require(\"raw-body\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"socket.io\");","module.exports = require(\"tslib\");","module.exports = require(\"child_process\");","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"process\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport {Logger} from '@nestjs/common';\r\nimport {NestFactory} from '@nestjs/core';\r\nimport {AppModule} from './app/app.module';\r\nimport {AppService} from './app/app.service';\r\nimport {HttpExceptionFilter} from './app/http-exception.filter';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n  const globalPrefix = 'api';\r\n  app.setGlobalPrefix(globalPrefix);\r\n  app.enableCors();\r\n  app.useGlobalFilters(new HttpExceptionFilter());\r\n  // app.useGlobalPipes(new ValidationPipe())\r\n  const port = process.env.PORT || 3333;\r\n  await app.listen(port, () => {\r\n    Logger.log('Listening at http://localhost:' + port + '/' + globalPrefix);\r\n  });\r\n\r\n  const server = app.getHttpServer();\r\n  const router = server._events.request._router;\r\n  const availableRoutes: [] = router.stack\r\n    .map(layer => {\r\n      if (layer.route) {\r\n        return {\r\n          path: layer.route.path,\r\n          method: layer.route.stack[0].method\r\n        };\r\n      }\r\n    })\r\n    .filter(item => item !== undefined);\r\n  AppService.availableRoutes = availableRoutes;\r\n  console.log('Routes:', availableRoutes);\r\n\r\n}\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}